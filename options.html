<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>HunterScope</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="page">
    <main class="settings-card">
      <header class="settings-header">
        <div class="settings-title">
          <div class="logo-circle">
            <img src="icons/32.png" alt="HunterScope icon" />
          </div>
          <div>
            <h1>HunterScope</h1>
            <p class="subtitle">Custom Categories</p>
          </div>
        </div>
        <nav class="settings-tabs">
          <button type="button" class="tab active">Categories</button>
        </nav>
      </header>

      <section class="settings-body">
        <p class="muted">
          Add categories and OSINT destinations. Each URL must include
          <code>{val}</code> or <code>{b64}</code>. Modes:
          <b>ip</b>, <b>domain</b>, <b>hash</b>, <b>cve</b>, <b>url</b>, <b>host</b>, <b>raw</b>.
        </p>

        <div class="global-row">
          <label class="checkbox">
            <input type="checkbox" id="open-in-new-window" />
            <span>Open results in a new window (instead of new tabs)</span>
          </label>
        </div>

        <div class="global-row">
          <label class="checkbox">
            <input type="checkbox" id="auto-highlight" />
            <span>Auto-highlight IOCs (domains, IPs, hashes) and CVEs on web pages</span>
          </label>
          <div class="subchecks">
            <label class="checkbox small">
              <input type="checkbox" id="auto-highlight-domains" />
              <span>Domains</span>
            </label>
            <label class="checkbox small">
              <input type="checkbox" id="auto-highlight-ips" />
              <span>IPs</span>
            </label>
            <label class="checkbox small">
              <input type="checkbox" id="auto-highlight-hashes" />
              <span>Hashes</span>
            </label>
            <label class="checkbox small">
              <input type="checkbox" id="auto-highlight-cves" />
              <span>CVEs</span>
            </label>
          </div>
        </div>

        <div class="cats">
          <!-- LEFT: category list -->
          <div class="cats-panel">
            <div class="cats-list" id="cats-list"></div>
          </div>

          <!-- RIGHT: category editor -->
          <section id="cat-editor" class="hidden">
            <h2 id="cat-title"></h2>

            <!-- Edit existing category -->
            <div class="row small">
              <label>ID <input id="edit-id" /></label>
              <label>Name <input id="edit-name" /></label>
              <label>Mode
                <select id="edit-mode">
                  <option value="ip">ip</option>
                  <option value="domain">domain</option>
                  <option value="hash">hash</option>
                  <option value="cve">cve</option>
                  <option value="url">url</option>
                  <option value="host">host</option>
                  <option value="raw">raw</option>
                </select>
              </label>
              <button id="cat-save" type="button">Save category</button>
              <button id="cat-delete" type="button" class="danger">Delete category</button>
            </div>

            <!-- Add new category (moved here) -->
            <div class="row small">
              <label class="grow">
                Category ID
                <input id="cat-id" placeholder="Category ID (e.g., ASN)" />
              </label>
              <label class="grow">
                Display name
                <input id="cat-name" placeholder="Display name (e.g., ASN)" />
              </label>
              <label>
                Mode
                <select id="cat-mode">
                  <option value="ip">ip</option>
                  <option value="domain">domain</option>
                  <option value="hash">hash</option>
                  <option value="cve">cve</option>
                  <option value="url">url</option>
                  <option value="host">host</option>
                  <option value="raw" selected>raw</option>
                </select>
              </label>
              <button id="cat-add" type="button">+ Add category</button>
            </div>

            <!-- Providers table -->
            <table class="table" id="prov-table">
              <thead>
                <tr>
                  <th style="width:120px">ID</th>
                  <th style="width:160px">Name</th>
                  <th>URL template</th>
                  <th style="width:130px">Move</th>
                  <th style="width:70px">Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>

            <div class="row small">
              <label>ID <input id="prov-id" /></label>
              <label>Name <input id="prov-name" /></label>
              <label class="grow">URL template <input id="prov-url" /></label>
              <button id="prov-add" type="button">Add</button>
            </div>
          </section>
        </div>

        <div class="controls">
          <button id="save-all" type="button">Save all</button>
          <button id="reset" type="button" class="danger">Reset to defaults</button>
          <span id="status"></span>
        </div>
      </section>
    </main>
  </div>

  <script src="options.js"></script>
</body>
</html>
